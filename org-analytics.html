<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="assets/icon.png">
    <title>Analytics | Evento Organizer</title>
    <link rel="stylesheet" href="css/org-analytics.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Mobile Menu Toggle -->
    <button class="mobile-menu-toggle" id="mobileMenuToggle">
        <i class="fas fa-bars"></i>
    </button>

    <!-- Sidebar -->
    <nav class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo">
                <i class="fas fa-calendar-alt"></i>
                <h2>Evento Organizer</h2>
            </div>
        </div>

        <div class="user-profile">
            <div class="avatar">
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Alex" alt="User">
            </div>
            <div class="user-info">
                <h3>Alex Johnson</h3>
                <p>Event Organizer</p>
            </div>
        </div>

        <ul class="nav-menu">
            <li><a href="org-dashboard.html"><i class="fas fa-home"></i> Dashboard</a></li>
            <li><a href="org-createevent.html"><i class="fas fa-calendar-plus"></i> Create Event</a></li>
            <li><a href="org-myevents.html"><i class="fas fa-calendar-week"></i> My Events</a></li>
            <li><a href="org-categories.html"><i class="fas fa-tags"></i> Categories</a></li>
            <li><a href="org-analytics.html" class="active"><i class="fas fa-chart-line"></i> Analytics</a></li>
            <li><a href="org-attendees.html"><i class="fas fa-users"></i> Attendees</a></li>
            <li><a href="org-notifications.html"><i class="fas fa-bell"></i> Notifications</a></li>
            <li><a href="org-settings.html"><i class="fas fa-cog"></i> Settings</a></li>
        </ul>
    </nav>

    <!-- Main Content -->
    <main class="main-content" id="mainContent">
        <!-- Top Bar -->
        <header class="top-bar">
            <div class="page-title">
                <h1>Analytics Dashboard</h1>
                <p id="currentDate">Track your event performance and insights</p>
            </div>
            
            <div class="top-actions">
                <div class="date-filter">
                    <select id="dateRange">
                        <option value="7d">Last 7 Days</option>
                        <option value="30d" selected>Last 30 Days</option>
                        <option value="90d">Last 90 Days</option>
                        <option value="1y">Last Year</option>
                        <option value="custom">Custom Range</option>
                    </select>
                </div>
                <button class="action-btn export-btn" id="exportBtn">
                    <i class="fas fa-download"></i>
                    <span>Export</span>
                </button>
            </div>
        </header>

        <!-- Analytics Overview -->
        <div class="analytics-overview">
            <div class="overview-card">
                <div class="overview-icon">
                    <i class="fas fa-eye"></i>
                </div>
                <div class="overview-content">
                    <h3>12.5K</h3>
                    <p>Total Views</p>
                    <span class="trend up"><i class="fas fa-arrow-up"></i> 24%</span>
                </div>
            </div>
            
            <div class="overview-card">
                <div class="overview-icon">
                    <i class="fas fa-ticket-alt"></i>
                </div>
                <div class="overview-content">
                    <h3>856</h3>
                    <p>Tickets Sold</p>
                    <span class="trend up"><i class="fas fa-arrow-up"></i> 18%</span>
                </div>
            </div>
            
            <div class="overview-card">
                <div class="overview-icon">
                    <i class="fas fa-users"></i>
                </div>
                <div class="overview-content">
                    <h3>1,247</h3>
                    <p>Total Attendees</p>
                    <span class="trend up"><i class="fas fa-arrow-up"></i> 42%</span>
                </div>
            </div>
            
            <div class="overview-card">
                <div class="overview-icon">
                    <i class="fas fa-dollar-sign"></i>
                </div>
                <div class="overview-content">
                    <h3>$12,580</h3>
                    <p>Total Revenue</p>
                    <span class="trend down"><i class="fas fa-arrow-down"></i> 5%</span>
                </div>
            </div>
        </div>

        <!-- Main Charts -->
        <div class="charts-grid">
            <!-- Revenue Chart -->
            <div class="chart-card">
                <div class="chart-header">
                    <h3>Revenue Overview</h3>
                    <div class="chart-filter">
                        <select id="revenueChartFilter">
                            <option value="daily">Daily</option>
                            <option value="weekly" selected>Weekly</option>
                            <option value="monthly">Monthly</option>
                        </select>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="revenueChart"></canvas>
                </div>
            </div>
            
            <!-- Ticket Sales Chart -->
            <div class="chart-card">
                <div class="chart-header">
                    <h3>Ticket Sales</h3>
                    <div class="chart-filter">
                        <select id="ticketChartFilter">
                            <option value="daily">Daily</option>
                            <option value="weekly" selected>Weekly</option>
                            <option value="monthly">Monthly</option>
                        </select>
                    </div>
                </div>
                <div class="chart-container">
                    <canvas id="ticketSalesChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Detailed Analytics -->
        <div class="detailed-analytics">
            <!-- Event Performance -->
            <div class="analytics-card">
                <div class="card-header">
                    <h3>Event Performance</h3>
                    <a href="#" class="view-all">View Details</a>
                </div>
                <div class="card-body">
                    <div class="performance-table">
                        <table>
                            <thead>
                                <tr>
                                    <th>Event</th>
                                    <th>Views</th>
                                    <th>Tickets</th>
                                    <th>Attendees</th>
                                    <th>Revenue</th>
                                    <th>Conversion</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>
                                        <div class="event-info">
                                            <div class="event-icon">
                                                <i class="fas fa-laptop-code"></i>
                                            </div>
                                            <div>
                                                <strong>Tech Conference</strong>
                                                <small>Conference</small>
                                            </div>
                                        </div>
                                    </td>
                                    <td>3,245</td>
                                    <td>250</td>
                                    <td>245</td>
                                    <td>$8,750</td>
                                    <td>
                                        <span class="conversion-rate good">7.7%</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="event-info">
                                            <div class="event-icon">
                                                <i class="fas fa-music"></i>
                                            </div>
                                            <div>
                                                <strong>Music Festival</strong>
                                                <small>Concert</small>
                                            </div>
                                        </div>
                                    </td>
                                    <td>5,120</td>
                                    <td>500</td>
                                    <td>487</td>
                                    <td>$25,000</td>
                                    <td>
                                        <span class="conversion-rate good">9.8%</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="event-info">
                                            <div class="event-icon">
                                                <i class="fas fa-chalkboard-teacher"></i>
                                            </div>
                                            <div>
                                                <strong>AI Workshop</strong>
                                                <small>Workshop</small>
                                            </div>
                                        </div>
                                    </td>
                                    <td>1,850</td>
                                    <td>120</td>
                                    <td>115</td>
                                    <td>$4,800</td>
                                    <td>
                                        <span class="conversion-rate average">6.5%</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td>
                                        <div class="event-info">
                                            <div class="event-icon">
                                                <i class="fas fa-users"></i>
                                            </div>
                                            <div>
                                                <strong>Startup Pitch</strong>
                                                <small>Meeting</small>
                                            </div>
                                        </div>
                                    </td>
                                    <td>980</td>
                                    <td>85</td>
                                    <td>82</td>
                                    <td>$2,550</td>
                                    <td>
                                        <span class="conversion-rate poor">8.7%</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Category Distribution -->
            <div class="analytics-card">
                <div class="card-header">
                    <h3>Category Distribution</h3>
                    <a href="#" class="view-all">View Details</a>
                </div>
                <div class="card-body">
                    <div class="category-stats">
                        <div class="category-item">
                            <div class="category-info">
                                <div class="category-color" style="background-color: #4361ee;"></div>
                                <div>
                                    <strong>Technology</strong>
                                    <small>12 events</small>
                                </div>
                            </div>
                            <div class="category-numbers">
                                <span class="percentage">35%</span>
                                <span class="revenue">$8,750</span>
                            </div>
                        </div>
                        
                        <div class="category-item">
                            <div class="category-info">
                                <div class="category-color" style="background-color: #f472b6;"></div>
                                <div>
                                    <strong>Music</strong>
                                    <small>8 events</small>
                                </div>
                            </div>
                            <div class="category-numbers">
                                <span class="percentage">30%</span>
                                <span class="revenue">$25,000</span>
                            </div>
                        </div>
                        
                        <div class="category-item">
                            <div class="category-info">
                                <div class="category-color" style="background-color: #4cc9f0;"></div>
                                <div>
                                    <strong>Education</strong>
                                    <small>6 events</small>
                                </div>
                            </div>
                            <div class="category-numbers">
                                <span class="percentage">20%</span>
                                <span class="revenue">$4,800</span>
                            </div>
                        </div>
                        
                        <div class="category-item">
                            <div class="category-info">
                                <div class="category-color" style="background-color: #4ade80;"></div>
                                <div>
                                    <strong>Business</strong>
                                    <small>9 events</small>
                                </div>
                            </div>
                            <div class="category-numbers">
                                <span class="percentage">15%</span>
                                <span class="revenue">$2,550</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="chart-container small">
                        <canvas id="categoryChart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Audience Insights -->
        <div class="audience-insights">
            <div class="analytics-card">
                <div class="card-header">
                    <h3>Audience Demographics</h3>
                    <a href="#" class="view-all">View Details</a>
                </div>
                <div class="card-body">
                    <div class="demographics-grid">
                        <div class="demographic-chart">
                            <h4>Age Distribution</h4>
                            <div class="chart-container small">
                                <canvas id="ageChart"></canvas>
                            </div>
                        </div>
                        
                        <div class="demographic-chart">
                            <h4>Gender Distribution</h4>
                            <div class="chart-container small">
                                <canvas id="genderChart"></canvas>
                            </div>
                        </div>
                        
                        <div class="demographic-chart">
                            <h4>Location</h4>
                            <div class="location-list">
                                <div class="location-item">
                                    <span>San Francisco</span>
                                    <div class="location-bar">
                                        <div class="bar-fill" style="width: 42%;"></div>
                                    </div>
                                    <span class="percentage">42%</span>
                                </div>
                                
                                <div class="location-item">
                                    <span>New York</span>
                                    <div class="location-bar">
                                        <div class="bar-fill" style="width: 28%;"></div>
                                    </div>
                                    <span class="percentage">28%</span>
                                </div>
                                
                                <div class="location-item">
                                    <span>Los Angeles</span>
                                    <div class="location-bar">
                                        <div class="bar-fill" style="width: 18%;"></div>
                                    </div>
                                    <span class="percentage">18%</span>
                                </div>
                                
                                <div class="location-item">
                                    <span>Other</span>
                                    <div class="location-bar">
                                        <div class="bar-fill" style="width: 12%;"></div>
                                    </div>
                                    <span class="percentage">12%</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Traffic Sources -->
            <div class="analytics-card">
                <div class="card-header">
                    <h3>Traffic Sources</h3>
                    <a href="#" class="view-all">View Details</a>
                </div>
                <div class="card-body">
                    <div class="traffic-sources">
                        <div class="source-item">
                            <div class="source-info">
                                <div class="source-icon direct">
                                    <i class="fas fa-link"></i>
                                </div>
                                <div>
                                    <strong>Direct</strong>
                                    <small>Direct website visits</small>
                                </div>
                            </div>
                            <div class="source-stats">
                                <span class="percentage">35%</span>
                                <span class="visits">4,375</span>
                            </div>
                        </div>
                        
                        <div class="source-item">
                            <div class="source-info">
                                <div class="source-icon social">
                                    <i class="fas fa-share-alt"></i>
                                </div>
                                <div>
                                    <strong>Social Media</strong>
                                    <small>Facebook, Twitter, Instagram</small>
                                </div>
                            </div>
                            <div class="source-stats">
                                <span class="percentage">28%</span>
                                <span class="visits">3,500</span>
                            </div>
                        </div>
                        
                        <div class="source-item">
                            <div class="source-info">
                                <div class="source-icon search">
                                    <i class="fas fa-search"></i>
                                </div>
                                <div>
                                    <strong>Search Engines</strong>
                                    <small>Google, Bing, etc.</small>
                                </div>
                            </div>
                            <div class="source-stats">
                                <span class="percentage">22%</span>
                                <span class="visits">2,750</span>
                            </div>
                        </div>
                        
                        <div class="source-item">
                            <div class="source-info">
                                <div class="source-icon referral">
                                    <i class="fas fa-external-link-alt"></i>
                                </div>
                                <div>
                                    <strong>Referral</strong>
                                    <small>Other websites</small>
                                </div>
                            </div>
                            <div class="source-stats">
                                <span class="percentage">15%</span>
                                <span class="visits">1,875</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Real-time Analytics -->
        <div class="real-time-analytics">
            <div class="analytics-card">
                <div class="card-header">
                    <h3>
                        <i class="fas fa-broadcast-tower"></i>
                        Real-time Activity
                        <span class="live-badge">LIVE</span>
                    </h3>
                    <div class="time-ago">Updated just now</div>
                </div>
                <div class="card-body">
                    <div class="activity-feed">
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-ticket-alt"></i>
                            </div>
                            <div class="activity-content">
                                <p><strong>Sarah Chen</strong> purchased 2 tickets for <strong>Music Festival</strong></p>
                                <span class="activity-time">2 minutes ago</span>
                            </div>
                            <div class="activity-amount">$200</div>
                        </div>
                        
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-eye"></i>
                            </div>
                            <div class="activity-content">
                                <p><strong>Michael Rodriguez</strong> viewed <strong>Tech Conference</strong> details</p>
                                <span class="activity-time">5 minutes ago</span>
                            </div>
                        </div>
                        
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-share-alt"></i>
                            </div>
                            <div class="activity-content">
                                <p><strong>Emma Wilson</strong> shared <strong>AI Workshop</strong> on Twitter</p>
                                <span class="activity-time">12 minutes ago</span>
                            </div>
                        </div>
                        
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-user-plus"></i>
                            </div>
                            <div class="activity-content">
                                <p><strong>David Kim</strong> registered for <strong>Startup Pitch Night</strong></p>
                                <span class="activity-time">18 minutes ago</span>
                            </div>
                            <div class="activity-amount">$85</div>
                        </div>
                        
                        <div class="activity-item">
                            <div class="activity-icon">
                                <i class="fas fa-comment"></i>
                            </div>
                            <div class="activity-content">
                                <p><strong>Lisa Park</strong> commented on <strong>Web Development Bootcamp</strong></p>
                                <span class="activity-time">25 minutes ago</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Export Modal -->
    <div class="modal-overlay" id="exportModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Export Analytics Data</h3>
                <button class="modal-close" id="closeExportModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="exportForm">
                    <div class="form-group">
                        <label for="exportFormat">Format</label>
                        <select id="exportFormat">
                            <option value="csv">CSV</option>
                            <option value="excel">Excel</option>
                            <option value="pdf">PDF</option>
                            <option value="json">JSON</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="exportDateRange">Date Range</label>
                        <select id="exportDateRange">
                            <option value="7d">Last 7 Days</option>
                            <option value="30d" selected>Last 30 Days</option>
                            <option value="90d">Last 90 Days</option>
                            <option value="1y">Last Year</option>
                            <option value="all">All Time</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="exportData">Data to Include</label>
                        <div class="checkbox-group">
                            <label>
                                <input type="checkbox" name="exportData" value="revenue" checked>
                                Revenue Data
                            </label>
                            <label>
                                <input type="checkbox" name="exportData" value="tickets" checked>
                                Ticket Sales
                            </label>
                            <label>
                                <input type="checkbox" name="exportData" value="attendance" checked>
                                Attendance
                            </label>
                            <label>
                                <input type="checkbox" name="exportData" value="demographics">
                                Demographics
                            </label>
                            <label>
                                <input type="checkbox" name="exportData" value="traffic">
                                Traffic Sources
                            </label>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="exportEmail">Email Address</label>
                        <input type="email" id="exportEmail" placeholder="Enter email for export link">
                        <small class="hint">Leave empty to download directly</small>
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" class="cancel-btn" id="cancelExportBtn">Cancel</button>
                        <button type="submit" class="export-submit-btn">
                            <i class="fas fa-download"></i>
                            Export Data
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="js/org-analytics.js"></script>
</body>
</html>